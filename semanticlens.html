<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="semanticlens.component_visualization package" href="semanticlens.component_visualization.html" /><link rel="prev" title="semanticlens" href="modules.html" />
        <link rel="prefetch" href="_static/logo-small.svg" as="image" />
        <link rel="prefetch" href="_static/logo-small.svg" as="image" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2025.07.19 -->
        <title>semanticlens package - SemanticLens v0.1.1</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=49ab6432" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --color-brand-primary: #2563eb;
  --color-brand-content: #2563eb;
  --color-admonition-background: transparent;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #60a5fa;
  --color-brand-content: #60a5fa;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #60a5fa;
  --color-brand-content: #60a5fa;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">SemanticLens v0.1.1</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/logo-small.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/logo-small.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">SemanticLens v0.1.1</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">semanticlens</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of semanticlens</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">semanticlens package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of semanticlens package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html">semanticlens.component_visualization package</a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html">semanticlens.foundation_models package</a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html">semanticlens.utils package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to SemanticLens</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference external" href="      url = {https://www.nature.com/articles/s42256-025-01084-w},">      url = {https://www.nature.com/articles/s42256-025-01084-w},</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/jim-berend/semanticlens/blob/main/docs/source/semanticlens.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/jim-berend/semanticlens/edit/main/docs/source/semanticlens.rst" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="semanticlens-package">
<h1>semanticlens package<a class="headerlink" href="#semanticlens-package" title="Link to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="semanticlens.component_visualization.html">semanticlens.component_visualization package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.component_visualization.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.component_visualization.html#module-semanticlens.component_visualization.activation_based">semanticlens.component_visualization.activation_based module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.actmax_cache"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.actmax_cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.AGGREGATION_DEFAULTS"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.AGGREGATION_DEFAULTS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.__init__"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.caching"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.caching</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.device"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.device</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.get_max_reference"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.get_max_reference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.metadata"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.metadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.run"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.storage_dir"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.storage_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.to"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.to()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.ActivationComponentVisualizer.visualize_components"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.visualize_components()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_based.MissingNameWarning"><code class="docutils literal notranslate"><span class="pre">MissingNameWarning</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.component_visualization.html#module-semanticlens.component_visualization.activation_caching">semanticlens.component_visualization.activation_caching module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#workflow-example">Workflow Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActCache"><code class="docutils literal notranslate"><span class="pre">ActCache</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActCache.layer_names"><code class="docutils literal notranslate"><span class="pre">ActCache.layer_names</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActCache.cache"><code class="docutils literal notranslate"><span class="pre">ActCache.cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActCache.handles"><code class="docutils literal notranslate"><span class="pre">ActCache.handles</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActCache.__init__"><code class="docutils literal notranslate"><span class="pre">ActCache.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActCache.hook_context"><code class="docutils literal notranslate"><span class="pre">ActCache.hook_context()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax"><code class="docutils literal notranslate"><span class="pre">ActMax</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.n_collect"><code class="docutils literal notranslate"><span class="pre">ActMax.n_collect</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.n_latents"><code class="docutils literal notranslate"><span class="pre">ActMax.n_latents</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.is_setup"><code class="docutils literal notranslate"><span class="pre">ActMax.is_setup</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.activations"><code class="docutils literal notranslate"><span class="pre">ActMax.activations</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.sample_ids"><code class="docutils literal notranslate"><span class="pre">ActMax.sample_ids</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.__init__"><code class="docutils literal notranslate"><span class="pre">ActMax.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.alive_latents"><code class="docutils literal notranslate"><span class="pre">ActMax.alive_latents</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.load"><code class="docutils literal notranslate"><span class="pre">ActMax.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.store"><code class="docutils literal notranslate"><span class="pre">ActMax.store()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMax.update"><code class="docutils literal notranslate"><span class="pre">ActMax.update()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache"><code class="docutils literal notranslate"><span class="pre">ActMaxCache</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.aggregation_fn"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.aggregation_fn</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.n_collect"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.n_collect</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.sample_idx_counter"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.sample_idx_counter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.agg_fn_name"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.agg_fn_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.cache"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.__getitem__"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.__getitem__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.__init__"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.__iter__"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.__iter__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.__repr__"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.__repr__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.load"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.metadata"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.metadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.activation_caching.ActMaxCache.store"><code class="docutils literal notranslate"><span class="pre">ActMaxCache.store()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.component_visualization.html#module-semanticlens.component_visualization.aggregators">semanticlens.component_visualization.aggregators module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.aggregators.aggregate_conv_max"><code class="docutils literal notranslate"><span class="pre">aggregate_conv_max()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.aggregators.aggregate_conv_mean"><code class="docutils literal notranslate"><span class="pre">aggregate_conv_mean()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.aggregators.aggregate_transformer_absmax"><code class="docutils literal notranslate"><span class="pre">aggregate_transformer_absmax()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.aggregators.aggregate_transformer_absmean"><code class="docutils literal notranslate"><span class="pre">aggregate_transformer_absmean()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.aggregators.aggregate_transformer_max"><code class="docutils literal notranslate"><span class="pre">aggregate_transformer_max()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.aggregators.aggregate_transformer_mean"><code class="docutils literal notranslate"><span class="pre">aggregate_transformer_mean()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.aggregators.get_aggregate_transformer_special_token"><code class="docutils literal notranslate"><span class="pre">get_aggregate_transformer_special_token()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.component_visualization.html#module-semanticlens.component_visualization.base">semanticlens.component_visualization.base module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer.model"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer.device"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.device</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer.__init__"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer.caching"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.caching</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id0"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.device</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer.get_max_reference"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.get_max_reference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer.metadata"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.metadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer.run"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer.storage_dir"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.storage_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer.to"><code class="docutils literal notranslate"><span class="pre">AbstractComponentVisualizer.to()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.component_visualization.html#module-semanticlens.component_visualization.relevance_based">semanticlens.component_visualization.relevance_based module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.num_samples"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.num_samples</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.composite"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.composite</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.storage_dir"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.storage_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.plot_fn"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.plot_fn</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.aggregation_fn"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.aggregation_fn</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.abs_norm"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.abs_norm</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.ActMax"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.ActMax</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.ActStats"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.ActStats</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.run"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.get_max_reference"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.get_max_reference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.check_if_preprocessed"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.check_if_preprocessed()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.get_act_max_sample_ids"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.get_act_max_sample_ids()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.to"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.to()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.Properties"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.Properties()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.__init__"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id1"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.check_if_preprocessed()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id2"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.get_act_max_sample_ids()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id3"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.get_max_reference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.relevance_based.RelevanceComponentVisualizer.metadata"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.metadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id4"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id5"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.to()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.component_visualization.html#module-semanticlens.component_visualization">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.actmax_cache"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.actmax_cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.AGGREGATION_DEFAULTS"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.AGGREGATION_DEFAULTS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.__init__"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.caching"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.caching</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.device"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.device</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.get_max_reference"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.get_max_reference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.metadata"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.metadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.run"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.storage_dir"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.storage_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.to"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.to()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.ActivationComponentVisualizer.visualize_components"><code class="docutils literal notranslate"><span class="pre">ActivationComponentVisualizer.visualize_components()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.num_samples"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.num_samples</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.composite"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.composite</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.storage_dir"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.storage_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.plot_fn"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.plot_fn</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.aggregation_fn"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.aggregation_fn</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.abs_norm"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.abs_norm</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.ActMax"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.ActMax</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.ActStats"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.ActStats</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.run"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.get_max_reference"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.get_max_reference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.check_if_preprocessed"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.check_if_preprocessed()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.get_act_max_sample_ids"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.get_act_max_sample_ids()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.to"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.to()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.Properties"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.Properties()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.__init__"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id6"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.check_if_preprocessed()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id7"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.get_act_max_sample_ids()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id8"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.get_max_reference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.RelevanceComponentVisualizer.metadata"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.metadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id9"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.component_visualization.html#id10"><code class="docutils literal notranslate"><span class="pre">RelevanceComponentVisualizer.to()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="semanticlens.foundation_models.html">semanticlens.foundation_models package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.foundation_models.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.foundation_models.html#module-semanticlens.foundation_models.base">semanticlens.foundation_models.base module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM"><code class="docutils literal notranslate"><span class="pre">AbstractVLM</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM.device"><code class="docutils literal notranslate"><span class="pre">AbstractVLM.device</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM.encode_image"><code class="docutils literal notranslate"><span class="pre">AbstractVLM.encode_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM.encode_text"><code class="docutils literal notranslate"><span class="pre">AbstractVLM.encode_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM.preprocess"><code class="docutils literal notranslate"><span class="pre">AbstractVLM.preprocess()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM.to"><code class="docutils literal notranslate"><span class="pre">AbstractVLM.to()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM.tokenize"><code class="docutils literal notranslate"><span class="pre">AbstractVLM.tokenize()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.foundation_models.html#module-semanticlens.foundation_models.clip">semanticlens.foundation_models.clip module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.ClipMobile"><code class="docutils literal notranslate"><span class="pre">ClipMobile</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.ClipMobile.URLs"><code class="docutils literal notranslate"><span class="pre">ClipMobile.URLs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#id0"><code class="docutils literal notranslate"><span class="pre">ClipMobile.URLs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.ClipMobile.__init__"><code class="docutils literal notranslate"><span class="pre">ClipMobile.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip"><code class="docutils literal notranslate"><span class="pre">OpenClip</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.model"><code class="docutils literal notranslate"><span class="pre">OpenClip.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.preprocessor"><code class="docutils literal notranslate"><span class="pre">OpenClip.preprocessor</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.tokenizer"><code class="docutils literal notranslate"><span class="pre">OpenClip.tokenizer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.__init__"><code class="docutils literal notranslate"><span class="pre">OpenClip.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.__repr__"><code class="docutils literal notranslate"><span class="pre">OpenClip.__repr__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.device"><code class="docutils literal notranslate"><span class="pre">OpenClip.device</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.encode_image"><code class="docutils literal notranslate"><span class="pre">OpenClip.encode_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.encode_text"><code class="docutils literal notranslate"><span class="pre">OpenClip.encode_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.preprocess"><code class="docutils literal notranslate"><span class="pre">OpenClip.preprocess()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.to"><code class="docutils literal notranslate"><span class="pre">OpenClip.to()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.OpenClip.tokenize"><code class="docutils literal notranslate"><span class="pre">OpenClip.tokenize()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.SigLipV2"><code class="docutils literal notranslate"><span class="pre">SigLipV2</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.SigLipV2.URL"><code class="docutils literal notranslate"><span class="pre">SigLipV2.URL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#id1"><code class="docutils literal notranslate"><span class="pre">SigLipV2.URL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.clip.SigLipV2.__init__"><code class="docutils literal notranslate"><span class="pre">SigLipV2.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.foundation_models.html#module-semanticlens.foundation_models">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html#id2">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.ClipMobile"><code class="docutils literal notranslate"><span class="pre">ClipMobile</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.ClipMobile.URLs"><code class="docutils literal notranslate"><span class="pre">ClipMobile.URLs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#id3"><code class="docutils literal notranslate"><span class="pre">ClipMobile.URLs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.ClipMobile.__init__"><code class="docutils literal notranslate"><span class="pre">ClipMobile.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip"><code class="docutils literal notranslate"><span class="pre">OpenClip</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.model"><code class="docutils literal notranslate"><span class="pre">OpenClip.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.preprocessor"><code class="docutils literal notranslate"><span class="pre">OpenClip.preprocessor</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.tokenizer"><code class="docutils literal notranslate"><span class="pre">OpenClip.tokenizer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.__init__"><code class="docutils literal notranslate"><span class="pre">OpenClip.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.__repr__"><code class="docutils literal notranslate"><span class="pre">OpenClip.__repr__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.device"><code class="docutils literal notranslate"><span class="pre">OpenClip.device</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.encode_image"><code class="docutils literal notranslate"><span class="pre">OpenClip.encode_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.encode_text"><code class="docutils literal notranslate"><span class="pre">OpenClip.encode_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.preprocess"><code class="docutils literal notranslate"><span class="pre">OpenClip.preprocess()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.to"><code class="docutils literal notranslate"><span class="pre">OpenClip.to()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.OpenClip.tokenize"><code class="docutils literal notranslate"><span class="pre">OpenClip.tokenize()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.SigLipV2"><code class="docutils literal notranslate"><span class="pre">SigLipV2</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.SigLipV2.URL"><code class="docutils literal notranslate"><span class="pre">SigLipV2.URL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#id4"><code class="docutils literal notranslate"><span class="pre">SigLipV2.URL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.SigLipV2.__init__"><code class="docutils literal notranslate"><span class="pre">SigLipV2.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="semanticlens.utils.html">semanticlens.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.utils.html#module-semanticlens.utils.helper">semanticlens.utils.helper module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.helper.get_fallback_name"><code class="docutils literal notranslate"><span class="pre">get_fallback_name()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.helper.get_unnormalization_transform"><code class="docutils literal notranslate"><span class="pre">get_unnormalization_transform()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.helper.to_transforms_compose"><code class="docutils literal notranslate"><span class="pre">to_transforms_compose()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.utils.html#module-semanticlens.utils.log_setup">semanticlens.utils.log_setup module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.log_setup.ColorFormatter"><code class="docutils literal notranslate"><span class="pre">ColorFormatter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.log_setup.ColorFormatter.COLOR_MAP"><code class="docutils literal notranslate"><span class="pre">ColorFormatter.COLOR_MAP</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.log_setup.ColorFormatter.RESET_SEQ"><code class="docutils literal notranslate"><span class="pre">ColorFormatter.RESET_SEQ</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.log_setup.ColorFormatter.__init__"><code class="docutils literal notranslate"><span class="pre">ColorFormatter.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.log_setup.ColorFormatter.format"><code class="docutils literal notranslate"><span class="pre">ColorFormatter.format()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.log_setup.setup_colored_logging"><code class="docutils literal notranslate"><span class="pre">setup_colored_logging()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.utils.html#module-semanticlens.utils.render">semanticlens.utils.render module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.render.crop_and_mask_images"><code class="docutils literal notranslate"><span class="pre">crop_and_mask_images()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.render.mystroke"><code class="docutils literal notranslate"><span class="pre">mystroke()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.render.vis_lighten_img_border"><code class="docutils literal notranslate"><span class="pre">vis_lighten_img_border()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.render.vis_opaque_img_border"><code class="docutils literal notranslate"><span class="pre">vis_opaque_img_border()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="semanticlens.utils.html#module-semanticlens.utils">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#modules">Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.get_fallback_name"><code class="docutils literal notranslate"><span class="pre">get_fallback_name()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.get_unnormalization_transform"><code class="docutils literal notranslate"><span class="pre">get_unnormalization_transform()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.setup_colored_logging"><code class="docutils literal notranslate"><span class="pre">setup_colored_logging()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="semanticlens.utils.html#semanticlens.utils.to_transforms_compose"><code class="docutils literal notranslate"><span class="pre">to_transforms_compose()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-semanticlens.lens">
<span id="semanticlens-lens-module"></span><h2>semanticlens.lens module<a class="headerlink" href="#module-semanticlens.lens" title="Link to this heading">¶</a></h2>
<p>Lens: Main class for visual concept analysis and exploration.</p>
<p>This module provides the primary interface for semantic analysis of neural networks,
combining component visualization with foundation models to explore relationships
between visual concepts and text embeddings.</p>
<dl class="py class">
<dt class="sig sig-object py" id="semanticlens.lens.Lens">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">semanticlens.lens.</span></span><span class="sig-name descname"><span class="pre">Lens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.Lens" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Orchestration layer for feature extraction and concept probing.</p>
<p>The <cite>Lens</cite> class is the main entry point for using the <cite>semanticlens</cite>
library. It provides a high-level, stateful interface that manages a
foundation model and orchestrates the entire semantic analysis workflow,
from computing a concept database to searching it and evaluating its
interpretability.</p>
<p>This class simplifies the process by holding the state of the foundation
model and providing convenient methods that wrap the core functionalities of
the package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fm</strong> (<a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM" title="semanticlens.foundation_models.base.AbstractVLM"><em>AbstractVLM</em></a>) – An initialized vision-language foundation model that will be used for
all embedding and probing tasks.</p></li>
<li><p><strong>device</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensor_attributes.html#torch.device" title="(in PyTorch v2.8)"><em>torch.device</em></a><em>, </em><em>optional</em>) – The device to run the foundation model on (e.g., “cuda”, “cpu”). If None,
the model’s current device is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="semanticlens.lens.Lens.fm">
<span class="sig-name descname"><span class="pre">fm</span></span><a class="headerlink" href="#semanticlens.lens.Lens.fm" title="Link to this definition">¶</a></dt>
<dd><p>The foundation model instance used by the Lens.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM" title="semanticlens.foundation_models.base.AbstractVLM">AbstractVLM</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="semanticlens.lens.Lens.device">
<span class="sig-name descname"><span class="pre">device</span></span><a class="headerlink" href="#semanticlens.lens.Lens.device" title="Link to this definition">¶</a></dt>
<dd><p>The device on which the foundation model is located.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensor_attributes.html#torch.device" title="(in PyTorch v2.8)">torch.device</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">semanticlens</span><span class="w"> </span><span class="kn">import</span> <span class="n">Lens</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">semanticlens.foundation_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ClipMobile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">semanticlens.component_visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">ActivationComponentVisualizer</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1. Initialize the Lens with a foundation model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm</span> <span class="o">=</span> <span class="n">ClipMobile</span><span class="p">(</span><span class="n">device</span><span class="o">=</span><span class="s2">&quot;cpu&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span> <span class="o">=</span> <span class="n">Lens</span><span class="p">(</span><span class="n">fm</span><span class="o">=</span><span class="n">fm</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2. Assume `cv` is an initialized ActivationComponentVisualizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cv</span> <span class="o">=</span> <span class="n">ActivationComponentVisualizer</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3. Compute the concept database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">concept_db</span> <span class="o">=</span> <span class="n">lens</span><span class="o">.</span><span class="n">compute_concept_db</span><span class="p">(</span><span class="n">cv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 4. Probe the database with a text query</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aggregated_db</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;layer4&quot;</span><span class="p">:</span> <span class="n">concept_db</span><span class="p">[</span><span class="s2">&quot;layer4&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">lens</span><span class="o">.</span><span class="n">text_probing</span><span class="p">(</span><span class="s2">&quot;a photo of a cat&quot;</span><span class="p">,</span> <span class="n">aggregated_db</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.lens.Lens.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.Lens.__init__" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.lens.Lens.compute_concept_db">
<span class="sig-name descname"><span class="pre">compute_concept_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cv</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.compute_concept_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.Lens.compute_concept_db" title="Link to this definition">¶</a></dt>
<dd><p>Compute or load from cache the concept database for a visualizer.</p>
<p>This method orchestrates the creation of the concept database, which is a
semantic representation of the concepts learned by a model’s components.
It follows an Inversion of Control (IoC) pattern by calling the internal
<cite>_compute_concept_db</cite> method of the provided component visualizer <cite>cv</cite>.</p>
<p>If caching is enabled in the component visualizer, this method will first
attempt to load the concept database from a pre-computed cache file. If
the file does not exist, it will compute the database and save it to the
cache for future use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cv</strong> (<a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer" title="semanticlens.component_visualization.base.AbstractComponentVisualizer"><em>AbstractComponentVisualizer</em></a>) – An initialized component visualizer that has already collected the
maximally activating samples for the target model’s components
(i.e., <cite>cv.run()</cite> has been called).</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments to be passed to the visualizer’s
<cite>_compute_concept_db</cite> method, such as <cite>batch_size</cite> or <cite>num_workers</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary mapping layer names to their concept databases. Each
database is a tensor of shape (n_components, n_samples,
embedding_dim).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.lens.Lens.eval_clarity">
<span class="sig-name descname"><span class="pre">eval_clarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.eval_clarity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.Lens.eval_clarity" title="Link to this definition">¶</a></dt>
<dd><p>Compute the clarity score for concepts in the database.</p>
<p>Clarity measures how semantically coherent the examples for each concept
are. A high clarity score suggests that a neuron has learned a
well-defined, easily understandable concept.</p>
<p>This method wraps the <a class="reference internal" href="#semanticlens.scores.clarity_score" title="semanticlens.scores.clarity_score"><code class="xref py py-func docutils literal notranslate"><span class="pre">clarity_score()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – A concept database tensor of shape (n_components, n_samples,
embedding_dim), or a dictionary mapping layer names to such tensors.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor of clarity scores for each component, or a dictionary of
such tensors.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#semanticlens.scores.clarity_score" title="semanticlens.scores.clarity_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">semanticlens.scores.clarity_score</span></code></a></dt><dd><p>The underlying function for the score.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.lens.Lens.eval_polysemanticity">
<span class="sig-name descname"><span class="pre">eval_polysemanticity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.eval_polysemanticity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.Lens.eval_polysemanticity" title="Link to this definition">¶</a></dt>
<dd><p>Compute the polysemanticity score for concepts in the database.</p>
<p>Polysemanticity measures whether a single neuron encodes multiple,
semantically distinct concepts. The score is calculated by clustering
the examples for each concept and measuring the diversity of the
resulting cluster centers.</p>
<p>This method wraps the <a class="reference internal" href="#semanticlens.scores.polysemanticity_score" title="semanticlens.scores.polysemanticity_score"><code class="xref py py-func docutils literal notranslate"><span class="pre">polysemanticity_score()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – A concept database tensor of shape (n_components, n_samples,
embedding_dim), or a dictionary mapping layer names to such tensors.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor of polysemanticity scores for each component, or a dictionary
of such tensors.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#semanticlens.scores.polysemanticity_score" title="semanticlens.scores.polysemanticity_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">semanticlens.scores.polysemanticity_score</span></code></a></dt><dd><p>The underlying function for the score.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.lens.Lens.eval_redundancy">
<span class="sig-name descname"><span class="pre">eval_redundancy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aggregated_concept_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.eval_redundancy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.Lens.eval_redundancy" title="Link to this definition">¶</a></dt>
<dd><p>Compute the redundancy score for concepts in the database.</p>
<p>Redundancy measures the degree of semantic overlap between different
components (e.g. neurons) in a layer. It is calculated as the average maximal
similarity of each component to any other component in the set.</p>
<p>This method wraps the <a class="reference internal" href="#semanticlens.scores.redundancy_score" title="semanticlens.scores.redundancy_score"><code class="xref py py-func docutils literal notranslate"><span class="pre">redundancy_score()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>aggregated_concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – An aggregated concept database tensor of shape (n_components,
embedding_dim), or a dictionary mapping layer names to such tensors.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor representing the mean redundancy score, or a dictionary of
such scores for each layer.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#semanticlens.scores.redundancy_score" title="semanticlens.scores.redundancy_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">semanticlens.scores.redundancy_score</span></code></a></dt><dd><p>The underlying function for the score.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.lens.Lens.image_probing">
<span class="sig-name descname"><span class="pre">image_probing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregated_concept_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.image_probing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.Lens.image_probing" title="Link to this definition">¶</a></dt>
<dd><p>Probe a concept database with image queries to find matching concepts.</p>
<p>This method is a convenient wrapper around the stateless
<a class="reference internal" href="#semanticlens.lens.image_probing" title="semanticlens.lens.image_probing"><code class="xref py py-func docutils literal notranslate"><span class="pre">image_probing()</span></code></a> function. It uses the foundation model stored
within the <cite>Lens</cite> instance to perform the search.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v11.3.0)"><em>PIL.Image.Image</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v11.3.0)"><em>PIL.Image.Image</em></a><em>]</em>) – A single PIL image or a list of PIL images to use as the query.</p></li>
<li><p><strong>aggregated_concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – The aggregated concept database to search within, with tensors of
shape (n_components, embedding_dim).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor or a dictionary of tensors containing the cosine similarity
scores between the query and the concepts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.lens.Lens.text_probing">
<span class="sig-name descname"><span class="pre">text_probing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregated_concept_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">templates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.text_probing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.Lens.text_probing" title="Link to this definition">¶</a></dt>
<dd><p>Probe a concept database with text queries to find matching concepts.</p>
<p>This method is a convenient wrapper around the stateless
<a class="reference internal" href="#semanticlens.lens.text_probing" title="semanticlens.lens.text_probing"><code class="xref py py-func docutils literal notranslate"><span class="pre">text_probing()</span></code></a> function. It uses the foundation model stored
within the <cite>Lens</cite> instance to perform the search.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – The text query or a list of text queries to search for.</p></li>
<li><p><strong>aggregated_concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – The aggregated concept database to search within, with tensors of
shape (n_components, embedding_dim).</p></li>
<li><p><strong>templates</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – A list of prompt templates, e.g., “a photo of {}”.</p></li>
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The batch size for embedding text queries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor or a dictionary of tensors containing the cosine similarity
scores between the query and the concepts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.lens.compute_concept_db">
<span class="sig-prename descclassname"><span class="pre">semanticlens.lens.</span></span><span class="sig-name descname"><span class="pre">compute_concept_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#compute_concept_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.compute_concept_db" title="Link to this definition">¶</a></dt>
<dd><p>Compute a concept database in a stateless manner.</p>
<p>This function delegates the computation of the concept database to the
provided component visualizer instance. It follows an Inversion of Control
(IoC) pattern where the visualizer, which holds the logic for extracting
concepts, is controlled by this function to perform the embedding using the
provided foundation model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cv</strong> (<a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer" title="semanticlens.component_visualization.base.AbstractComponentVisualizer"><em>AbstractComponentVisualizer</em></a>) – An initialized component visualizer instance (e.g.,
<cite>ActivationComponentVisualizer</cite>) that has already been run to find
concept examples.</p></li>
<li><p><strong>fm</strong> (<a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM" title="semanticlens.foundation_models.base.AbstractVLM"><em>AbstractVLM</em></a>) – An initialized foundation model instance (e.g., <cite>OpenClip</cite>) used for
embedding the concept examples.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments to be passed to the component visualizer’s
internal computation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary mapping layer names to their corresponding concept
database. Each concept database is a tensor of shape
(n_components, n_samples, embedding_dim).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.lens.image_probing">
<span class="sig-prename descclassname"><span class="pre">semanticlens.lens.</span></span><span class="sig-name descname"><span class="pre">image_probing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregated_concept_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#image_probing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.image_probing" title="Link to this definition">¶</a></dt>
<dd><p>Probe a concept database with image queries to find matching concepts.</p>
<p>This function searches for concepts that are semantically similar to a given
query image or a set of query images. It embeds the image(s) using the
foundation model and computes the cosine similarity against the concept embeddings in the database.</p>
<p>If a list of images is provided, their embeddings are averaged to form a
single probe vector. This is useful for finding concepts that represent the
common theme across multiple images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fm</strong> (<a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM" title="semanticlens.foundation_models.base.AbstractVLM"><em>AbstractVLM</em></a>) – An initialized foundation model instance for encoding the image query.</p></li>
<li><p><strong>query</strong> (<a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v11.3.0)"><em>PIL.Image.Image</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v11.3.0)"><em>PIL.Image.Image</em></a><em>]</em>) – A single PIL image or a list of PIL images to use as the query.</p></li>
<li><p><strong>aggregated_concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – The aggregated concept database to search within. This should contain
the mean embedding for each concept, resulting in a tensor of shape
(n_components, embedding_dim). It can be a single tensor or a
dictionary mapping layer names to tensors.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor or a dictionary of tensors containing the cosine similarity
scores between the image query embedding and the concept embeddings.
Higher scores indicate a closer semantic match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.lens.text_probing">
<span class="sig-prename descclassname"><span class="pre">semanticlens.lens.</span></span><span class="sig-name descname"><span class="pre">text_probing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregated_concept_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">templates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#text_probing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.lens.text_probing" title="Link to this definition">¶</a></dt>
<dd><p>Probe a concept database with text queries to find matching concepts.</p>
<p>This function searches for concepts in a model’s learned representations
using natural language. It works by embedding the text query using the
foundation model and then computing the cosine similarity between the query
embedding and the concept embeddings in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fm</strong> (<a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM" title="semanticlens.foundation_models.base.AbstractVLM"><em>AbstractVLM</em></a>) – An initialized foundation model instance for encoding the text query.</p></li>
<li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – The text query or a list of text queries to search for.</p></li>
<li><p><strong>aggregated_concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – The aggregated concept database to search within. This should contain
a single embedding for each concept (e.g. mean aggregated),
resulting in a tensor of shape (n_components, embedding_dim).
It can be a single tensor or a dictionary mapping layer names to tensors.</p></li>
<li><p><strong>templates</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – A list of prompt templates, e.g., “a photo of {}”. Using templates can
improve search fidelity by averaging out the influence of the prompt’s
structure. If provided, the embedding of an empty template is subtracted
from the embedding of the filled template.</p></li>
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The batch size for embedding text queries if multiple templates are used.
If None, all templated queries are processed in one batch.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor or a dictionary of tensors containing the cosine similarity
scores between the query embedding(s) and the concept embeddings. Higher
scores indicate a closer semantic match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">semanticlens.foundation_models.clip</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenClip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">semanticlens.lens</span><span class="w"> </span><span class="kn">import</span> <span class="n">text_probing</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Mock foundation model and concept database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm</span> <span class="o">=</span> <span class="n">OpenClip</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span> <span class="o">=</span> <span class="n">ConceptLens</span><span class="p">(</span><span class="n">fm</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">concepts</span> <span class="o">=</span> <span class="n">lens</span><span class="o">.</span><span class="n">compute_concept_db</span><span class="p">(</span><span class="n">cv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Find neurons related to &quot;dogs&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">text_probing</span><span class="p">(</span><span class="n">fm</span><span class="o">=</span><span class="n">fm</span><span class="p">,</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="n">aggregated_concept_db</span><span class="o">=</span><span class="n">concepts</span><span class="p">,</span> <span class="n">templates</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a photo of a </span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">top_neuron</span> <span class="o">=</span> <span class="n">scores</span><span class="p">[</span><span class="s2">&quot;layer4&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Top matching neuron for &#39;dog&#39;: </span><span class="si">{</span><span class="n">top_neuron</span><span class="o">.</span><span class="n">item</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-semanticlens.scores">
<span id="semanticlens-scores-module"></span><h2>semanticlens.scores module<a class="headerlink" href="#module-semanticlens.scores" title="Link to this heading">¶</a></h2>
<p>Scoring functions for evaluating concept quality in semantic analysis.</p>
<p>This module provides various metrics to assess the quality and characteristics
of learned concepts in neural networks, including clarity, redundancy, and
polysemanticity scores.</p>
<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.scores.clarity_score">
<span class="sig-prename descclassname"><span class="pre">semanticlens.scores.</span></span><span class="sig-name descname"><span class="pre">clarity_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">V</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/scores.html#clarity_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.scores.clarity_score" title="Link to this definition">¶</a></dt>
<dd><p>Compute clarity score for concept representations.</p>
<p>Measures how uniform the concept examples are, indicating how clear
the representation is. Higher values indicate better clarity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>V</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a>) – Concept tensor of shape (n_neurons, n_samples, n_features).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Clarity scores of shape (n_neurons,). Values in range [-1/(n_samples-1), 1],
where higher values indicate clearer concepts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>  <span class="c1"># 10 neurons, 20 samples, 512 features</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clarity</span> <span class="o">=</span> <span class="n">clarity_score</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clarity</span><span class="o">.</span><span class="n">shape</span>
<span class="go">torch.Size([10])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.scores.polysemanticity_score">
<span class="sig-prename descclassname"><span class="pre">semanticlens.scores.</span></span><span class="sig-name descname"><span class="pre">polysemanticity_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">V</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_empty_clusters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">123</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_clusters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/scores.html#polysemanticity_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.scores.polysemanticity_score" title="Link to this definition">¶</a></dt>
<dd><p>Compute polysemanticity score for concept representations.</p>
<p>Measures how polysemantic (multi-meaning) concepts are by clustering
concept examples and computing clarity of cluster centers. Higher values
indicate more polysemantic concepts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>V</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a>) – Concept tensor of shape (n_neurons, n_samples, n_features).</p></li>
<li><p><strong>replace_empty_clusters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default=True</em>) – Whether to replace empty clusters with alternative computation.</p></li>
<li><p><strong>random_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>default=123</em>) – Random seed for K-means clustering reproducibility.</p></li>
<li><p><strong>n_clusters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>default=2</em>) – Number of clusters for K-means algorithm.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Polysemanticity scores of shape (n_neurons,). Values in range [0, 1],
where higher values indicate more polysemantic concepts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>  <span class="c1"># 10 neurons, 20 samples, 512 features</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poly</span> <span class="o">=</span> <span class="n">polysemanticity_score</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poly</span><span class="o">.</span><span class="n">shape</span>
<span class="go">torch.Size([10])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.scores.redundancy_score">
<span class="sig-prename descclassname"><span class="pre">semanticlens.scores.</span></span><span class="sig-name descname"><span class="pre">redundancy_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cones</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/scores.html#redundancy_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.scores.redundancy_score" title="Link to this definition">¶</a></dt>
<dd><p>Compute redundancy score for concept representations.</p>
<p>Measures the redundancy across neurons by computing pairwise similarities
and taking the maximum similarity for each neuron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cones</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a>) – Concept tensor of shape (n_neurons, n_features).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Redundancy scores of shape (n_neurons,). Higher values indicate
more redundant representations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cones</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>  <span class="c1"># 10 neurons, 512 features</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">redundancy</span> <span class="o">=</span> <span class="n">redundancy_score</span><span class="p">(</span><span class="n">cones</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">redundancy</span><span class="o">.</span><span class="n">shape</span>
<span class="go">torch.Size([])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.scores.similarity_score">
<span class="sig-prename descclassname"><span class="pre">semanticlens.scores.</span></span><span class="sig-name descname"><span class="pre">similarity_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/scores.html#similarity_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.scores.similarity_score" title="Link to this definition">¶</a></dt>
<dd><p>Compute similarity score between two tensors.</p>
<p>Calculates cosine similarity between tensors x and y, handling different
tensor shapes appropriately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a>) – First tensor for similarity computation.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a>) – Second tensor for similarity computation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Similarity scores. Shape depends on input dimensions.
For matrices: (x_n, y_n) where x_n and y_n are the number of vectors.
For vectors: scalar similarity score.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If tensor shapes are incompatible for similarity computation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">similarity_score</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">shape</span>
<span class="go">torch.Size([5, 3])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-semanticlens">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-semanticlens" title="Link to this heading">¶</a></h2>
<p>SemanticLens: A package for mechanistic understanding and validation of large AI models.</p>
<p>SemanticLens provides tools for visual concept analysis and exploration of deep learning models,
specifically designed for mechanistic interpretability and semantic analysis of foundation models.</p>
<section id="modules">
<h3>Modules<a class="headerlink" href="#modules" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>foundation_models</dt><dd><p>Contains foundation model implementations including CLIP variants.</p>
</dd>
<dt>scores</dt><dd><p>Provides scoring functions for concept clarity, redundancy, and polysemanticity.</p>
</dd>
</dl>
</section>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>ConceptTensor</dt><dd><p>A tensor subclass for storing embeddings with associated metadata.</p>
</dd>
<dt>Lens</dt><dd><p>Main class for visual concept analysis and exploration.</p>
</dd>
</dl>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>label</dt><dd><p>Compute alignment of text embeddings with concept embeddings.</p>
</dd>
<dt>clarity_score</dt><dd><p>Measure how uniform concept examples are.</p>
</dd>
<dt>polysemanticity_score</dt><dd><p>Measure concept polysemanticity using clustering.</p>
</dd>
<dt>redundancy_score</dt><dd><p>Measure concept redundancy across neurons.</p>
</dd>
</dl>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="semanticlens.Lens">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">semanticlens.</span></span><span class="sig-name descname"><span class="pre">Lens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.Lens" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Orchestration layer for feature extraction and concept probing.</p>
<p>The <cite>Lens</cite> class is the main entry point for using the <cite>semanticlens</cite>
library. It provides a high-level, stateful interface that manages a
foundation model and orchestrates the entire semantic analysis workflow,
from computing a concept database to searching it and evaluating its
interpretability.</p>
<p>This class simplifies the process by holding the state of the foundation
model and providing convenient methods that wrap the core functionalities of
the package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fm</strong> (<a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM" title="semanticlens.foundation_models.base.AbstractVLM"><em>AbstractVLM</em></a>) – An initialized vision-language foundation model that will be used for
all embedding and probing tasks.</p></li>
<li><p><strong>device</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensor_attributes.html#torch.device" title="(in PyTorch v2.8)"><em>torch.device</em></a><em>, </em><em>optional</em>) – The device to run the foundation model on (e.g., “cuda”, “cpu”). If None,
the model’s current device is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="semanticlens.Lens.fm">
<span class="sig-name descname"><span class="pre">fm</span></span><a class="headerlink" href="#semanticlens.Lens.fm" title="Link to this definition">¶</a></dt>
<dd><p>The foundation model instance used by the Lens.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="semanticlens.foundation_models.html#semanticlens.foundation_models.base.AbstractVLM" title="semanticlens.foundation_models.base.AbstractVLM">AbstractVLM</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="semanticlens.Lens.device">
<span class="sig-name descname"><span class="pre">device</span></span><a class="headerlink" href="#semanticlens.Lens.device" title="Link to this definition">¶</a></dt>
<dd><p>The device on which the foundation model is located.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensor_attributes.html#torch.device" title="(in PyTorch v2.8)">torch.device</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">semanticlens</span><span class="w"> </span><span class="kn">import</span> <span class="n">Lens</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">semanticlens.foundation_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ClipMobile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">semanticlens.component_visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">ActivationComponentVisualizer</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1. Initialize the Lens with a foundation model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm</span> <span class="o">=</span> <span class="n">ClipMobile</span><span class="p">(</span><span class="n">device</span><span class="o">=</span><span class="s2">&quot;cpu&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span> <span class="o">=</span> <span class="n">Lens</span><span class="p">(</span><span class="n">fm</span><span class="o">=</span><span class="n">fm</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2. Assume `cv` is an initialized ActivationComponentVisualizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cv</span> <span class="o">=</span> <span class="n">ActivationComponentVisualizer</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3. Compute the concept database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">concept_db</span> <span class="o">=</span> <span class="n">lens</span><span class="o">.</span><span class="n">compute_concept_db</span><span class="p">(</span><span class="n">cv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 4. Probe the database with a text query</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aggregated_db</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;layer4&quot;</span><span class="p">:</span> <span class="n">concept_db</span><span class="p">[</span><span class="s2">&quot;layer4&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">lens</span><span class="o">.</span><span class="n">text_probing</span><span class="p">(</span><span class="s2">&quot;a photo of a cat&quot;</span><span class="p">,</span> <span class="n">aggregated_db</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.Lens.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.Lens.__init__" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.Lens.compute_concept_db">
<span class="sig-name descname"><span class="pre">compute_concept_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cv</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.compute_concept_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.Lens.compute_concept_db" title="Link to this definition">¶</a></dt>
<dd><p>Compute or load from cache the concept database for a visualizer.</p>
<p>This method orchestrates the creation of the concept database, which is a
semantic representation of the concepts learned by a model’s components.
It follows an Inversion of Control (IoC) pattern by calling the internal
<cite>_compute_concept_db</cite> method of the provided component visualizer <cite>cv</cite>.</p>
<p>If caching is enabled in the component visualizer, this method will first
attempt to load the concept database from a pre-computed cache file. If
the file does not exist, it will compute the database and save it to the
cache for future use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cv</strong> (<a class="reference internal" href="semanticlens.component_visualization.html#semanticlens.component_visualization.base.AbstractComponentVisualizer" title="semanticlens.component_visualization.base.AbstractComponentVisualizer"><em>AbstractComponentVisualizer</em></a>) – An initialized component visualizer that has already collected the
maximally activating samples for the target model’s components
(i.e., <cite>cv.run()</cite> has been called).</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments to be passed to the visualizer’s
<cite>_compute_concept_db</cite> method, such as <cite>batch_size</cite> or <cite>num_workers</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary mapping layer names to their concept databases. Each
database is a tensor of shape (n_components, n_samples,
embedding_dim).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.Lens.eval_clarity">
<span class="sig-name descname"><span class="pre">eval_clarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.eval_clarity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.Lens.eval_clarity" title="Link to this definition">¶</a></dt>
<dd><p>Compute the clarity score for concepts in the database.</p>
<p>Clarity measures how semantically coherent the examples for each concept
are. A high clarity score suggests that a neuron has learned a
well-defined, easily understandable concept.</p>
<p>This method wraps the <a class="reference internal" href="#semanticlens.scores.clarity_score" title="semanticlens.scores.clarity_score"><code class="xref py py-func docutils literal notranslate"><span class="pre">clarity_score()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – A concept database tensor of shape (n_components, n_samples,
embedding_dim), or a dictionary mapping layer names to such tensors.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor of clarity scores for each component, or a dictionary of
such tensors.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#semanticlens.scores.clarity_score" title="semanticlens.scores.clarity_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">semanticlens.scores.clarity_score</span></code></a></dt><dd><p>The underlying function for the score.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.Lens.eval_polysemanticity">
<span class="sig-name descname"><span class="pre">eval_polysemanticity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.eval_polysemanticity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.Lens.eval_polysemanticity" title="Link to this definition">¶</a></dt>
<dd><p>Compute the polysemanticity score for concepts in the database.</p>
<p>Polysemanticity measures whether a single neuron encodes multiple,
semantically distinct concepts. The score is calculated by clustering
the examples for each concept and measuring the diversity of the
resulting cluster centers.</p>
<p>This method wraps the <a class="reference internal" href="#semanticlens.scores.polysemanticity_score" title="semanticlens.scores.polysemanticity_score"><code class="xref py py-func docutils literal notranslate"><span class="pre">polysemanticity_score()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – A concept database tensor of shape (n_components, n_samples,
embedding_dim), or a dictionary mapping layer names to such tensors.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor of polysemanticity scores for each component, or a dictionary
of such tensors.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#semanticlens.scores.polysemanticity_score" title="semanticlens.scores.polysemanticity_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">semanticlens.scores.polysemanticity_score</span></code></a></dt><dd><p>The underlying function for the score.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.Lens.eval_redundancy">
<span class="sig-name descname"><span class="pre">eval_redundancy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aggregated_concept_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.eval_redundancy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.Lens.eval_redundancy" title="Link to this definition">¶</a></dt>
<dd><p>Compute the redundancy score for concepts in the database.</p>
<p>Redundancy measures the degree of semantic overlap between different
components (e.g. neurons) in a layer. It is calculated as the average maximal
similarity of each component to any other component in the set.</p>
<p>This method wraps the <a class="reference internal" href="#semanticlens.scores.redundancy_score" title="semanticlens.scores.redundancy_score"><code class="xref py py-func docutils literal notranslate"><span class="pre">redundancy_score()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>aggregated_concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – An aggregated concept database tensor of shape (n_components,
embedding_dim), or a dictionary mapping layer names to such tensors.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor representing the mean redundancy score, or a dictionary of
such scores for each layer.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#semanticlens.scores.redundancy_score" title="semanticlens.scores.redundancy_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">semanticlens.scores.redundancy_score</span></code></a></dt><dd><p>The underlying function for the score.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.Lens.image_probing">
<span class="sig-name descname"><span class="pre">image_probing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregated_concept_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.image_probing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.Lens.image_probing" title="Link to this definition">¶</a></dt>
<dd><p>Probe a concept database with image queries to find matching concepts.</p>
<p>This method is a convenient wrapper around the stateless
<a class="reference internal" href="#semanticlens.Lens.image_probing" title="semanticlens.Lens.image_probing"><code class="xref py py-func docutils literal notranslate"><span class="pre">image_probing()</span></code></a> function. It uses the foundation model stored
within the <cite>Lens</cite> instance to perform the search.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v11.3.0)"><em>PIL.Image.Image</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v11.3.0)"><em>PIL.Image.Image</em></a><em>]</em>) – A single PIL image or a list of PIL images to use as the query.</p></li>
<li><p><strong>aggregated_concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – The aggregated concept database to search within, with tensors of
shape (n_components, embedding_dim).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor or a dictionary of tensors containing the cosine similarity
scores between the query and the concepts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="semanticlens.Lens.text_probing">
<span class="sig-name descname"><span class="pre">text_probing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregated_concept_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">templates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/lens.html#Lens.text_probing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.Lens.text_probing" title="Link to this definition">¶</a></dt>
<dd><p>Probe a concept database with text queries to find matching concepts.</p>
<p>This method is a convenient wrapper around the stateless
<a class="reference internal" href="#semanticlens.Lens.text_probing" title="semanticlens.Lens.text_probing"><code class="xref py py-func docutils literal notranslate"><span class="pre">text_probing()</span></code></a> function. It uses the foundation model stored
within the <cite>Lens</cite> instance to perform the search.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – The text query or a list of text queries to search for.</p></li>
<li><p><strong>aggregated_concept_db</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a><em>]</em>) – The aggregated concept database to search within, with tensors of
shape (n_components, embedding_dim).</p></li>
<li><p><strong>templates</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – A list of prompt templates, e.g., “a photo of {}”.</p></li>
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The batch size for embedding text queries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor or a dictionary of tensors containing the cosine similarity
scores between the query and the concepts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.clarity_score">
<span class="sig-prename descclassname"><span class="pre">semanticlens.</span></span><span class="sig-name descname"><span class="pre">clarity_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">V</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/scores.html#clarity_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.clarity_score" title="Link to this definition">¶</a></dt>
<dd><p>Compute clarity score for concept representations.</p>
<p>Measures how uniform the concept examples are, indicating how clear
the representation is. Higher values indicate better clarity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>V</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a>) – Concept tensor of shape (n_neurons, n_samples, n_features).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Clarity scores of shape (n_neurons,). Values in range [-1/(n_samples-1), 1],
where higher values indicate clearer concepts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>  <span class="c1"># 10 neurons, 20 samples, 512 features</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clarity</span> <span class="o">=</span> <span class="n">clarity_score</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clarity</span><span class="o">.</span><span class="n">shape</span>
<span class="go">torch.Size([10])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.polysemanticity_score">
<span class="sig-prename descclassname"><span class="pre">semanticlens.</span></span><span class="sig-name descname"><span class="pre">polysemanticity_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">V</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_empty_clusters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">123</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_clusters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/scores.html#polysemanticity_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.polysemanticity_score" title="Link to this definition">¶</a></dt>
<dd><p>Compute polysemanticity score for concept representations.</p>
<p>Measures how polysemantic (multi-meaning) concepts are by clustering
concept examples and computing clarity of cluster centers. Higher values
indicate more polysemantic concepts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>V</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a>) – Concept tensor of shape (n_neurons, n_samples, n_features).</p></li>
<li><p><strong>replace_empty_clusters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default=True</em>) – Whether to replace empty clusters with alternative computation.</p></li>
<li><p><strong>random_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>default=123</em>) – Random seed for K-means clustering reproducibility.</p></li>
<li><p><strong>n_clusters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>default=2</em>) – Number of clusters for K-means algorithm.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Polysemanticity scores of shape (n_neurons,). Values in range [0, 1],
where higher values indicate more polysemantic concepts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>  <span class="c1"># 10 neurons, 20 samples, 512 features</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poly</span> <span class="o">=</span> <span class="n">polysemanticity_score</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poly</span><span class="o">.</span><span class="n">shape</span>
<span class="go">torch.Size([10])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="semanticlens.redundancy_score">
<span class="sig-prename descclassname"><span class="pre">semanticlens.</span></span><span class="sig-name descname"><span class="pre">redundancy_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cones</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/semanticlens/scores.html#redundancy_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#semanticlens.redundancy_score" title="Link to this definition">¶</a></dt>
<dd><p>Compute redundancy score for concept representations.</p>
<p>Measures the redundancy across neurons by computing pairwise similarities
and taking the maximum similarity for each neuron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cones</strong> (<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)"><em>torch.Tensor</em></a>) – Concept tensor of shape (n_neurons, n_features).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Redundancy scores of shape (n_neurons,). Higher values indicate
more redundant representations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.8)">torch.Tensor</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cones</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>  <span class="c1"># 10 neurons, 512 features</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">redundancy</span> <span class="o">=</span> <span class="n">redundancy_score</span><span class="p">(</span><span class="n">cones</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">redundancy</span><span class="o">.</span><span class="n">shape</span>
<span class="go">torch.Size([])</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="semanticlens.component_visualization.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">semanticlens.component_visualization package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="modules.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">semanticlens</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Jim Berend
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Aug 18, 2025</div>
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/jim-berend/semanticlens" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              <a class="muted-link " href="https://pypi.org/project/semanticlens/" aria-label="PyPI">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">semanticlens package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-semanticlens.lens">semanticlens.lens module</a><ul>
<li><a class="reference internal" href="#semanticlens.lens.Lens"><code class="docutils literal notranslate"><span class="pre">Lens</span></code></a><ul>
<li><a class="reference internal" href="#semanticlens.lens.Lens.fm"><code class="docutils literal notranslate"><span class="pre">Lens.fm</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.Lens.device"><code class="docutils literal notranslate"><span class="pre">Lens.device</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.Lens.__init__"><code class="docutils literal notranslate"><span class="pre">Lens.__init__()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.Lens.compute_concept_db"><code class="docutils literal notranslate"><span class="pre">Lens.compute_concept_db()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.Lens.eval_clarity"><code class="docutils literal notranslate"><span class="pre">Lens.eval_clarity()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.Lens.eval_polysemanticity"><code class="docutils literal notranslate"><span class="pre">Lens.eval_polysemanticity()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.Lens.eval_redundancy"><code class="docutils literal notranslate"><span class="pre">Lens.eval_redundancy()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.Lens.image_probing"><code class="docutils literal notranslate"><span class="pre">Lens.image_probing()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.Lens.text_probing"><code class="docutils literal notranslate"><span class="pre">Lens.text_probing()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#semanticlens.lens.compute_concept_db"><code class="docutils literal notranslate"><span class="pre">compute_concept_db()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.image_probing"><code class="docutils literal notranslate"><span class="pre">image_probing()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.lens.text_probing"><code class="docutils literal notranslate"><span class="pre">text_probing()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-semanticlens.scores">semanticlens.scores module</a><ul>
<li><a class="reference internal" href="#semanticlens.scores.clarity_score"><code class="docutils literal notranslate"><span class="pre">clarity_score()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.scores.polysemanticity_score"><code class="docutils literal notranslate"><span class="pre">polysemanticity_score()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.scores.redundancy_score"><code class="docutils literal notranslate"><span class="pre">redundancy_score()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.scores.similarity_score"><code class="docutils literal notranslate"><span class="pre">similarity_score()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-semanticlens">Module contents</a><ul>
<li><a class="reference internal" href="#modules">Modules</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#semanticlens.Lens"><code class="docutils literal notranslate"><span class="pre">Lens</span></code></a><ul>
<li><a class="reference internal" href="#semanticlens.Lens.fm"><code class="docutils literal notranslate"><span class="pre">Lens.fm</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.Lens.device"><code class="docutils literal notranslate"><span class="pre">Lens.device</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.Lens.__init__"><code class="docutils literal notranslate"><span class="pre">Lens.__init__()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.Lens.compute_concept_db"><code class="docutils literal notranslate"><span class="pre">Lens.compute_concept_db()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.Lens.eval_clarity"><code class="docutils literal notranslate"><span class="pre">Lens.eval_clarity()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.Lens.eval_polysemanticity"><code class="docutils literal notranslate"><span class="pre">Lens.eval_polysemanticity()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.Lens.eval_redundancy"><code class="docutils literal notranslate"><span class="pre">Lens.eval_redundancy()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.Lens.image_probing"><code class="docutils literal notranslate"><span class="pre">Lens.image_probing()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.Lens.text_probing"><code class="docutils literal notranslate"><span class="pre">Lens.text_probing()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#semanticlens.clarity_score"><code class="docutils literal notranslate"><span class="pre">clarity_score()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.polysemanticity_score"><code class="docutils literal notranslate"><span class="pre">polysemanticity_score()</span></code></a></li>
<li><a class="reference internal" href="#semanticlens.redundancy_score"><code class="docutils literal notranslate"><span class="pre">redundancy_score()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=a58bc63e"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>